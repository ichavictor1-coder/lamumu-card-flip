<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Lamumu Memory Game</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ffefba, #ffffff);
            text-align: center;
            padding: 20px;
            margin: 0;
            transition: background 0.8s;
            overflow-x: hidden;
        }

        h1 {
            color: #333;
        }

        #gameBoard {
            display: grid;
            grid-template-columns: repeat(4, minmax(80px, 1fr));
            grid-gap: 10px;
            justify-content: center;
            margin: 20px auto;
            max-width: 600px;
        }

        .card {
            width: 100%;
            aspect-ratio: 5 / 7;
            border-radius: 12px;
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s, opacity 0.6s;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            background: #fff;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-inner {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }

        .card-front,
        .card-back {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.15);
        }

        .card-front {
            background: #f5f5f5;
        }

        .card-front img {
            width: 90%;
            height: 90%;
            object-fit: contain;
            border-radius: 8px;
        }

        .card-back {
            background: #fff;
            transform: rotateY(180deg);
        }

        .card-back img {
            width: 90%;
            height: 90%;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Match animation */
        @keyframes moveToCenter {
            0% {
                transform: scale(1) translate(0, 0);
                opacity: 1;
            }

            50% {
                transform: scale(1.2) rotate(10deg);
            }

            60% {
                transform: scale(1.2) rotate(-10deg);
            }

            70% {
                transform: scale(1.2) rotate(6deg);
            }

            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }

        .matched {
            animation: moveToCenter 1.5s ease forwards;
        }

        #message {
            margin-top: 15px;
            font-size: 18px;
            font-weight: bold;
            color: #2d2d2d;
        }

        button {
            margin-top: 15px;
            padding: 8px 16px;
            font-size: 14px;
            border: none;
            border-radius: 8px;
            background: #ff6666;
            color: white;
            cursor: pointer;
            margin-inline: 5px;
        }

        button:hover {
            background: #ff4444;
        }

        /* Confetti style */
        .confetti {
            position: fixed;
            width: 8px;
            height: 8px;
            background: red;
            top: -10px;
            left: 50%;
            opacity: 0.8;
            animation: fall linear forwards;
            z-index: 1000;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <h1>üêÑ Lamumu Memory Game</h1>
    <p>Flip the cards and match all the Lamumus!</p>

    <div id="gameBoard"></div>
    <p id="message"></p>
    <button onclick="startGame()">üîÑ Restart Game</button>
    <button onclick="toggleMute()" id="muteBtn">üîä Mute</button>

    <!-- üéµ Audio -->
    <audio id="matchSound" src="sounds/good-6081.mp3"></audio>
    <audio id="failSound" src="sounds/fail-234710.mp3"></audio>
    <audio id="bgMusic" src="sounds/Backing.mp3" loop></audio>

    <script>
        const gameBoard = document.getElementById("gameBoard");
        const message = document.getElementById("message");
        const muteBtn = document.getElementById("muteBtn");

        const matchSound = document.getElementById("matchSound");
        const failSound = document.getElementById("failSound");
        const bgMusic = document.getElementById("bgMusic");

        let muted = false;

        document.body.addEventListener("click", () => {
            if (bgMusic.paused && !muted) {
                bgMusic.volume = 0.4;
                bgMusic.play();
            }
        }, { once: true });

        const lamumuImages = [
            "/Images/kungfu.jpeg",
            "/Images/cute.jpeg",
            "/Images/Angel.jpeg",
            "/Images/samurai.jpeg",
            "/Images/vortex.jpeg",
            "/Images/office.jpeg",
        
        ];

        let cards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        function startGame() {
            gameBoard.innerHTML = "";
            message.textContent = "";
            flippedCards = [];
            matchedPairs = 0;

            document.body.style.background = getRandomBrightColor();

            cards = [...lamumuImages, ...lamumuImages];
            cards.sort(() => Math.random() - 0.5);

            cards.forEach((src) => {
                const card = document.createElement("div");
                card.classList.add("card");

                const cardInner = document.createElement("div");
                cardInner.classList.add("card-inner");

                const cardFront = document.createElement("div");
                cardFront.classList.add("card-front");
                const frontImg = document.createElement("img");
                frontImg.src = "/Images/New cover.png";
                cardFront.appendChild(frontImg);

                const cardBack = document.createElement("div");
                cardBack.classList.add("card-back");
                const img = document.createElement("img");
                img.src = src;
                cardBack.appendChild(img);

                cardInner.appendChild(cardFront);
                cardInner.appendChild(cardBack);
                card.appendChild(cardInner);

                card.addEventListener("click", () => flipCard(card, src));
                gameBoard.appendChild(card);
            });
        }

        function flipCard(card, src) {
            if (flippedCards.length === 2 || card.classList.contains("flipped")) return;

            card.classList.add("flipped");
            flippedCards.push({ card, src });

            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 800);
            }
        }

        function checkMatch() {
            const [first, second] = flippedCards;

            if (first.src === second.src) {
                first.card.classList.add("matched");
                second.card.classList.add("matched");
                playSound(matchSound);

                matchedPairs++;
                if (matchedPairs === lamumuImages.length) {
                    message.textContent = "üéâ You matched all Lamumus!";
                    launchConfetti();
                    setTimeout(startGame, 4000);
                }
            } else {
                playSound(failSound);
                first.card.classList.remove("flipped");
                second.card.classList.remove("flipped");
            }

            flippedCards = [];
            document.body.style.background = getRandomBrightColor(); // üåà change bg every turn
        }

        function launchConfetti() {
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement("div");
                confetti.classList.add("confetti");
                confetti.style.left = Math.random() * 100 + "vw";
                confetti.style.background = getRandomBrightColor();
                confetti.style.animationDuration = (Math.random() * 3 + 2) + "s";
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        function getRandomBrightColor() {
            const colors = ["#ff6666", "#66ff66", "#ffff66", "#ff66ff", "#ffa500", "#ff1493", "#ff4500", "#ffd700"];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function toggleMute() {
            muted = !muted;
            matchSound.muted = muted;
            failSound.muted = muted;
            bgMusic.muted = muted;
            muteBtn.textContent = muted ? "üîá Unmute" : "üîä Mute";
        }

        function playSound(sound) {
            if (!muted) {
                sound.currentTime = 0;
                sound.play();
            }
        }

        startGame();
    </script>
</body>

</html>

